* test addToRegistry

* For addToRegistry local module definitions, are they all added to registry before one is traced that may want it? Also, that a local definition wins over outer one.

* In general, how to handle errors? Test they bubble correctly, get reflected in factorySequence correctly.

* cycle detection hook, for info uses only, override could decide to throw.

* try out parent/child relationship, make sure top is used for lifecycle hooks.

* packages config support: just put in a register for the package name pointing to main module, then a paths config?
* put in locations support from module as an override.
* bundles config, goes in locate



Test:

* throw an error in an overriden method, like translate.
